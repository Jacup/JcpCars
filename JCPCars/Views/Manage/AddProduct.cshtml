@model JCPCars.Models.EditProductViewModel
@{
    ViewBag.Title = "Dodaj nowe ogłoszenie";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>





<body>
    <!-- Main Container -->
    <div class="container mt-5 pt-3">
        <div class="row pt-4">
            <!-- Content -->
            <div>
                <section class="section pt-4">
                    <div class="row">
                        <style>
                            .demo-card-wide.mdl-card {
                                width: 100%;
                                margin-bottom: 50px;
                            }

                            .demo-card-wide > .mdl-card__title {
                                color: #000;
                                background: url('../assets/demos/welcome_card.jpg') center / cover;
                            }

                            .demo-card-wide > .mdl-card__menu {
                                color: #fff;
                            }

                            .mdl-card__actions {
                                text-align: center;
                            }

                            .mdl-card__supporting-text {
                                width: 100%
                            }
                        </style>


                        <div class="demo-card-wide mdl-card mdl-shadow--2dp">
                            @if (Model.ConfirmSuccess.HasValue && Model.ConfirmSuccess.Value)
                            {
                                <div style="text-align: center; margin: 50px;">
                                    Samochód dodany pomyślnie!
                                </div>
                            }

                            @using (@Html.BeginForm("AddProduct", "Manage", FormMethod.Post, new { enctype = "multipart/form-data" }))
                            {

                                <div class="mdl-card__title">
                                    <h2 class="mdl-card__title-text">Edycja ogłoszenia</h2>
                                </div>
                                <div class="mdl-card__supporting-text">



                                    @Html.AntiForgeryToken()

                                    <div class="">
                                        @Html.ValidationSummary()
                                    </div>

                                    @Html.HiddenFor(o => o.Car.CarId)
                                    @Html.HiddenFor(o => o.Car.DateAdded)
                                    @Html.HiddenFor(o => o.Car.PictureFileName)


                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        @Html.TextBoxFor(o => o.Car.CarBrand, new { @class = "mdl-textfield__input" })
                                        <label class="mdl-textfield__label" for="sample3">@Html.LabelFor(o => o.Car.CarBrand, "Marka:")</label>

                                    </div>
                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        @Html.TextBoxFor(o => o.Car.CarModel, new { @class = "mdl-textfield__input" })
                                        <label class="mdl-textfield__label" for="sample3">@Html.LabelFor(o => o.Car.CarModel, "Model:")</label>
                                    </div>
                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        @Html.TextBoxFor(o => o.Car.Description, new { @class = "mdl-textfield__input" })
                                        <label class="mdl-textfield__label" for="sample3">@Html.LabelFor(o => o.Car.Description, "Opis:")</label>

                                    </div>
                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        @Html.TextBoxFor(o => o.Car.Price, new { @class = "mdl-textfield__input" })
                                        <label class="mdl-textfield__label" for="sample3">@Html.LabelFor(o => o.Car.Price, "Cena:")</label>
                                    </div>
                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        @Html.DropDownListFor(m => m.Car.SerieId, new SelectList(Model.Series, "SerieId", "Name", Model.Series.First().SerieId), new { @class = "mdl-textfield__input" })
                                        <label class="mdl-textfield__label" for="sample3">@Html.LabelFor(o => o.Series, "Kategoria:")</label>

                                    </div>

                                    @if (ViewBag.EditMode == null || !ViewBag.EditMode)
                                    {
                                    <input type="file" name="file" />
                                    }





                                    @if (ViewBag.EditMode == true)
                                    {
                                    <a href="@Url.Action("Delete", "Manage", new { carId = Model.Car.CarId })" style="display: block; margin-top: 15px; font-weight: bold;">
                                        Usuń
                                    </a>
                                    }


                                    @*<input type="submit" value="Zapisz" class="submitLink" />*@







                                </div>
                                <div class="mdl-card__actions mdl-card--border">
                                    <input type="submit" value="Zapisz zmiany" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" />
                                </div>
                            }
                        </div>

                    </div>
                </section>

            </div>
            <!-- /.Content -->

        </div>

    </div>
    <!-- /.Main Container -->
</body>
